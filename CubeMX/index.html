
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Software library shared among LHRS embedded systems">
      
      
        <meta name="author" content="LHR - Solar">
      
      
      
        <link rel="prev" href="../SharepointSubmodule/">
      
      
        <link rel="next" href="../DBC/">
      
      
      <link rel="icon" href="../LHRs.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>CubeMX - Embedded Sharepoint Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cubemx" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Embedded Sharepoint Documentation" class="md-header__button md-logo" aria-label="Embedded Sharepoint Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Embedded Sharepoint Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CubeMX
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Embedded Sharepoint Documentation" class="md-nav__button md-logo" aria-label="Embedded Sharepoint Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Embedded Sharepoint Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../SharepointSubmodule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding Embedded Sharepoint
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    CubeMX
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    CubeMX
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-installing-cubemx" class="md-nav__link">
    <span class="md-ellipsis">
      1. Installing CubeMX
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-using-the-cubemx-microcontroller-editor" class="md-nav__link">
    <span class="md-ellipsis">
      2. Using the CubeMX Microcontroller Editor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-editing-peripheral-settings" class="md-nav__link">
    <span class="md-ellipsis">
      3. Editing Peripheral Settings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Editing Peripheral Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-selecting-a-peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Selecting a Peripheral
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-configuring-a-peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Configuring a Peripheral
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-clock-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Clock Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-generating-code" class="md-nav__link">
    <span class="md-ellipsis">
      4. Generating Code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CAN Messages
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            CAN Messages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DBC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Signals & Messages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-installing-cubemx" class="md-nav__link">
    <span class="md-ellipsis">
      1. Installing CubeMX
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-using-the-cubemx-microcontroller-editor" class="md-nav__link">
    <span class="md-ellipsis">
      2. Using the CubeMX Microcontroller Editor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-editing-peripheral-settings" class="md-nav__link">
    <span class="md-ellipsis">
      3. Editing Peripheral Settings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Editing Peripheral Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-selecting-a-peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Selecting a Peripheral
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-configuring-a-peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Configuring a Peripheral
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-clock-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Clock Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-generating-code" class="md-nav__link">
    <span class="md-ellipsis">
      4. Generating Code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="cubemx">CubeMX</h1>
<p>STM32 CubeMX is a graphical tool made by STMicro to help in creating STM32 hardware and software. While the generated code is not always optimal, CubeMX is extremely useful for figuring out pin alternate functions, setting up clock trees, and quickly enabling peripherals.</p>
<h2 id="1-installing-cubemx">1. Installing CubeMX</h2>
<p>Download CubeMX <a href="https://www.st.com/en/development-tools/stm32cubemx.html">here</a>.</p>
<h2 id="2-using-the-cubemx-microcontroller-editor">2. Using the CubeMX Microcontroller Editor</h2>
<ol>
<li>Open <strong>"STM32CubeMX"</strong>.  </li>
<li>Press <strong>"Access to MCU Selector"</strong>.  </li>
<li>Search for your MCU part number (e.g. <strong>STM32F413RHT</strong>)</li>
<li>Click <strong>"Start Project"</strong> and CubeMX will generate a project workspace.</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="Project Landing Page" src="../assets/ProjectLandingPage.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em><strong>Note</strong>: This is the configuration view for the STM32F413RHT so your pinout might look slightly different.</em></td>
</tr>
</tbody>
</table>
<h2 id="3-editing-peripheral-settings">3. Editing Peripheral Settings</h2>
<p>This section will show you how to change configurations for peripherals you wish to interface.</p>
<h3 id="31-selecting-a-peripheral">3.1 Selecting a Peripheral</h3>
<ul>
<li>On the left-hand side of CubeMX, locate the pane with the <strong>"Categories"</strong> tab selected.</li>
<li>Toggle the dropdowns to see the peripherals that are supported on your MCU:</li>
</ul>
<blockquote>
<p><strong>Analog</strong> - <em>ADCs, DACs</em><br />
<strong>Timers</strong> - <em>TIM1, TIM2, ...</em> <br />
<strong>Connectivity</strong> - <em>I²C, USART / UART, SPI</em>  </p>
</blockquote>
<ul>
<li>Now, you can select the peripherals you want to enable (e.g., <strong>USART1</strong>, <strong>I2C1</strong>, <strong>TIM2</strong>, etc.).  </li>
<li>CubeMX will automatically assign the required pins on the microcontroller diagram.  </li>
<li>If there are conflicts (e.g., two peripherals trying to use the same pin), CubeMX will show a warning and let you reassign pins manually.  </li>
<li>Hover over the microcontroller diagram and click on a pin to change its function or remap it.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="Full Configuration View" src="../assets/ConfigView.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Yay, we can configure our peripherals now!</td>
</tr>
</tbody>
</table>
<h3 id="32-configuring-a-peripheral">3.2 Configuring a Peripheral</h3>
<ul>
<li>Clicking a specific peripheral opens a settings window for that peripheral.  </li>
<li>
<p>The <strong>"Mode"</strong> and <strong>"Configuration"</strong> windows can be used to change configurations for a specific peripheral</p>
</li>
<li>
<p>Examples of configurations:<br />
  &nbsp;&nbsp;-  <strong>USART:</strong> baud rate, word length, stop bits, parity, DMA options<br />
  &nbsp;&nbsp;-  <strong>Timers:</strong> PWM mode, clock source, prescaler values, channel mappings<br />
  &nbsp;&nbsp;-  <strong>ADC:</strong> resolution, sampling time, number of channels, trigger source</p>
</li>
<li>
<p>You can also configure <strong>NVIC interrupts</strong> and enable/disable them from this window.</p>
</li>
</ul>
<h3 id="33-clock-configuration">3.3 Clock Configuration</h3>
<ul>
<li>Go to the <strong>"Clock Configuration"</strong> tab.  </li>
<li>Set up the input oscillator (HSI, HSE, LSE) and PLL settings.  </li>
<li>To change derived clock speeds enter your desired value and CubeMX <strong>will calculate</strong> the necessary prescalers to get there.</li>
<li>If you exceed limits, CubeMX will flag the error in red.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="Clock View" src="../assets/ClockView.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">⏰⏰⏰</td>
</tr>
</tbody>
</table>
<h2 id="4-generating-code">4. Generating Code</h2>
<ol>
<li>Press the <strong>"Project Manager"</strong> tab.  </li>
<li>Under <strong>"Code Generator"</strong> you can specify project name, location, and toolchain (e.g., STM32CubeIDE, Keil, IAR, or Makefile).  </li>
<li>Click <strong>"Generate Code"</strong> (you may have to install firmware packages for the MCU 😴).  </li>
<li>Open the generated project in your chosen IDE and enjoy!</li>
</ol>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>